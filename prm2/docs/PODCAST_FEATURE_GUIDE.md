# ğŸ§ HÆ°á»›ng dáº«n sá»­ dá»¥ng tÃ­nh nÄƒng Podcast

## Tá»•ng quan

TÃ­nh nÄƒng Podcast cho phÃ©p ngÆ°á»i dÃ¹ng khÃ¡m phÃ¡, nghe vÃ  tÆ°Æ¡ng tÃ¡c vá»›i cÃ¡c podcast vá» sá»©c khá»e tinh tháº§n trÃªn Healink.

## CÃ¡c tÃ­nh nÄƒng chÃ­nh

### 1. **Danh sÃ¡ch Podcast** ğŸ“±

#### Truy cáº­p
- Má»Ÿ menu drawer (icon â‰¡ á»Ÿ gÃ³c trÃªn)
- Chá»n "ğŸ§ KhÃ¡m phÃ¡ Podcast"

#### CÃ¡c tab
- **Thá»‹nh hÃ nh**: Podcast cÃ³ lÆ°á»£t xem cao nháº¥t
- **Má»›i nháº¥t**: Podcast Ä‘Æ°á»£c Ä‘Äƒng gáº§n Ä‘Ã¢y
- **TÃ¬m kiáº¿m**: TÃ¬m kiáº¿m podcast theo tá»« khÃ³a

#### TÃ¬m kiáº¿m
1. Nháº­p tá»« khÃ³a vÃ o thanh search
2. Nháº¥n Enter hoáº·c icon search
3. Káº¿t quáº£ hiá»ƒn thá»‹ trong tab "TÃ¬m kiáº¿m"
4. XÃ³a tÃ¬m kiáº¿m báº±ng icon X

#### Bá»™ lá»c nÃ¢ng cao ğŸ¯
1. Nháº¥n icon **filter_list** (phá»…u) á»Ÿ gÃ³c pháº£i AppBar
2. Chá»n bá»™ lá»c **Cáº£m xÃºc**:
   - ğŸ˜Š Háº¡nh phÃºc
   - ğŸ˜¢ Buá»“n
   - ğŸ˜° Lo láº¯ng
   - ğŸ˜Œ BÃ¬nh tÄ©nh
   - ğŸ˜« CÄƒng tháº³ng
3. Chá»n bá»™ lá»c **Chá»§ Ä‘á»**:
   - ğŸ§  Sá»©c khá»e tinh tháº§n
   - ğŸ§˜ ChÃ¡nh niá»‡m
   - ğŸ•‰ï¸ Thiá»n Ä‘á»‹nh
   - ğŸ˜´ Giáº¥c ngá»§
   - ğŸ’š Wellness
4. Nháº¥n "XÃ³a bá»™ lá»c" Ä‘á»ƒ reset
5. Icon filter chuyá»ƒn mÃ u vÃ ng khi cÃ³ filter Ä‘ang active

#### Cháº¿ Ä‘á»™ hiá»ƒn thá»‹
- **Grid view** (máº·c Ä‘á»‹nh): 2 cá»™t, hiá»ƒn thá»‹ thumbnail lá»›n
- **List view**: Danh sÃ¡ch ngang, hiá»ƒn thá»‹ chi tiáº¿t hÆ¡n
- Toggle báº±ng icon grid_view / list á»Ÿ gÃ³c pháº£i

#### Infinite Scroll
- Cuá»™n xuá»‘ng cuá»‘i danh sÃ¡ch tá»± Ä‘á»™ng táº£i thÃªm
- Loading indicator hiá»ƒn thá»‹ khi Ä‘ang táº£i

### 2. **Chi tiáº¿t Podcast** ğŸµ

#### Giao diá»‡n
- **SliverAppBar**: Thumbnail phÃ³ng to khi scroll
- **ThÃ´ng tin**: TiÃªu Ä‘á», host, mÃ´ táº£, tags
- **Thá»‘ng kÃª**: LÆ°á»£t xem, lÆ°á»£t thÃ­ch, thá»i lÆ°á»£ng

#### TÃ­nh nÄƒng Like â¤ï¸
1. Nháº¥n icon **favorite** á»Ÿ gÃ³c pháº£i AppBar
2. TrÃ¡i tim Ä‘á» = ÄÃ£ thÃ­ch
3. TrÃ¡i tim tráº¯ng = ChÆ°a thÃ­ch
4. Sá»‘ lÆ°á»£t thÃ­ch cáº­p nháº­t realtime
5. Toast notification xÃ¡c nháº­n thao tÃ¡c

#### Audio Player ğŸ¼

**Controls**:
- â–¶ï¸ **Play**: PhÃ¡t podcast
- â¸ï¸ **Pause**: Táº¡m dá»«ng
- âª **-10s**: Tua lÃ¹i 10 giÃ¢y
- â© **+10s**: Tua tá»›i 10 giÃ¢y
- **Seek bar**: KÃ©o Ä‘á»ƒ nháº£y Ä‘áº¿n vá»‹ trÃ­ báº¥t ká»³
- **Time display**: Hiá»ƒn thá»‹ thá»i gian hiá»‡n táº¡i / tá»•ng thá»i gian

**Vá»‹ trÃ­**: Bottom sheet cá»‘ Ä‘á»‹nh á»Ÿ cuá»‘i mÃ n hÃ¬nh

**MÃ u sáº¯c**: Ná»n nÃ¢u (#8B7355) - matching theme Healink

### 3. **Tracking tá»± Ä‘á»™ng** ğŸ“Š

#### View Count
- Tá»± Ä‘á»™ng tÄƒng khi vÃ o mÃ n hÃ¬nh chi tiáº¿t
- Chá»‰ track 1 láº§n má»—i phiÃªn xem
- Silent fail (khÃ´ng hiá»ƒn thá»‹ lá»—i náº¿u tháº¥t báº¡i)

#### Like Status
- Load tráº¡ng thÃ¡i like khi vÃ o mÃ n hÃ¬nh
- Äá»“ng bá»™ vá»›i backend realtime
- Hiá»ƒn thá»‹ sá»‘ lÆ°á»£t thÃ­ch cáº­p nháº­t

## Kiáº¿n trÃºc ká»¹ thuáº­t

### Models
- **Podcast**: 23 fields, 3 helper methods (formattedDuration, formattedDate, formattedViews)
- **PaginationResult<T>**: Generic wrapper cho pagination
- **PodcastCategoryFilter**: Emotion + Topic categories

### API Endpoints
```dart
// List & Search
GET /api/content/user/podcasts?page=1&pageSize=10
GET /api/content/user/podcasts/trending
GET /api/content/user/podcasts/latest
GET /api/content/user/podcasts/search?keyword=...

// Detail
GET /api/content/user/podcasts/{id}

// Interactions
POST /api/content/user/podcasts/{id}/view
POST /api/content/user/podcasts/{id}/like
GET /api/content/user/podcasts/{id}/liked
```

### Components
- **PodcastCard**: Grid card view (16:9 thumbnail)
- **PodcastListItem**: Horizontal list item (100x100 thumbnail)
- **PodcastListScreen**: Main screen with tabs, search, filters
- **PodcastDetailScreen**: Detail with audio player

### Package dependencies
```yaml
audioplayers: ^6.1.0  # Audio playback
```

## Xá»­ lÃ½ lá»—i

### Network errors
- Hiá»ƒn thá»‹ SnackBar vá»›i message lá»—i
- Fallback empty state cho danh sÃ¡ch
- Retry báº±ng pull-to-refresh (cÃ³ thá»ƒ thÃªm)

### Loading states
- CircularProgressIndicator khi táº£i dá»¯ liá»‡u
- Shimmer loading (cÃ³ thá»ƒ thÃªm)
- Loading indicator á»Ÿ cuá»‘i list khi paginate

### Audio errors
- Placeholder icon náº¿u khÃ´ng cÃ³ audio file
- Error message náº¿u khÃ´ng thá»ƒ phÃ¡t
- Fallback silent cho view tracking

## Best Practices

### Performance
- âœ… Pagination: Load 10 items/page
- âœ… Image caching: NetworkImage tá»± Ä‘á»™ng cache
- âœ… Lazy loading: GridView.builder / ListView.builder
- âœ… Dispose: AudioPlayer dispose trong dispose()

### UX
- âœ… Smooth animations: SliverAppBar, FilterChip
- âœ… Visual feedback: Loading states, toast messages
- âœ… Responsive: Grid 2 columns, list full width
- âœ… Accessibility: Icon vá»›i semantic labels

### Security
- âœ… Auth headers: JWT token trong má»i request
- âœ… Silent fail: View tracking khÃ´ng hiá»ƒn thá»‹ lá»—i
- âœ… Validation: Check null values

## Roadmap (TÃ­nh nÄƒng tÆ°Æ¡ng lai)

### Phase 2
- [ ] Mini player at bottom navigation (persistent)
- [ ] Playlist functionality
- [ ] Download for offline listening
- [ ] Playback speed control (0.5x, 1x, 1.5x, 2x)
- [ ] Sleep timer

### Phase 3
- [ ] Comments & ratings
- [ ] Share podcast
- [ ] Podcast recommendations (AI)
- [ ] Transcript display
- [ ] Dark mode support

### Phase 4
- [ ] Creator analytics dashboard
- [ ] Monetization (premium podcasts)
- [ ] Live streaming
- [ ] Multi-language support

## Troubleshooting

### KhÃ´ng thá»ƒ phÃ¡t audio
1. Kiá»ƒm tra audioFileUrl cÃ³ há»£p lá»‡ khÃ´ng
2. Kiá»ƒm tra network connection
3. Kiá»ƒm tra permission (Android/iOS)
4. Restart app

### Lá»—i 401 Unauthorized
1. Token háº¿t háº¡n â†’ ÄÄƒng nháº­p láº¡i
2. Token khÃ´ng há»£p lá»‡ â†’ Clear cache, Ä‘Äƒng nháº­p láº¡i

### Lá»—i pagination khÃ´ng load thÃªm
1. Kiá»ƒm tra hasNext = true
2. Kiá»ƒm tra ScrollController attached
3. Kiá»ƒm tra _isLoadingMore flag

## Support

LiÃªn há»‡ team dev:
- Email: support@healink.com
- Discord: Healink Dev Channel
- GitHub Issues: [Repository Link]

---

**Version**: 1.0.0  
**Last Updated**: 2025-10-16  
**Author**: Healink Dev Team
